let colorChange1,colorChange2,introParagraphs,firstIntroParagraph,sidebar,downArrow,text,filmsSection,filmPreview,didScroll=!1,playPreview=function(){let e=$(this).children(".preview")[0];$(e).get(0).play()},pausePreview=function(){let e=$(this).children(".preview")[0];$(e).get(0).pause()},transitionOpacityOnScroll=function({transitionObject:e,startFromTop:r,slowness:o,referenceObject:t}){let a=(t||e).offset().top-window.scrollY,n=(r-a)/o;n>1&&(n=1),a<=r?e.css("opacity",n):e.css("opacity",0)},addClassOnScroll=function(e,{targetObject:r,startFromTop:o,config:t}){let a=t&&t.reference?t.reference:r,n=a?a.offset().top-window.scrollY:0,s=!(!t||!t.removeOnReverse);n<=o&&!r[0].className.includes(e)?r.addClass(e):n>o&&r[0].className.includes(e)&&s&&r.removeClass(e)},fadeInParagraphs=function(){let e=.8*window.innerHeight;for(let r=0;r<introParagraphs.length;r++){let o=$(introParagraphs[r]);addClassOnScroll("show",{targetObject:o,startFromTop:e})}addClassOnScroll("show",{targetObject:text,startFromTop:e}),addClassOnScroll("shrink",{targetObject:sidebar,startFromTop:e,config:{reference:firstIntroParagraph,removeOnReverse:!0}}),addClassOnScroll("hide",{targetObject:downArrow,startFromTop:e,config:{reference:firstIntroParagraph,removeOnReverse:!0}})},fadeInOverlay1=function(){let e=window.innerHeight;transitionOpacityOnScroll({transitionObject:colorChange1,startFromTop:e,slowness:400,referenceObject:firstIntroParagraph})},fadeInOverlay2=function(){let e=window.innerHeight;transitionOpacityOnScroll({transitionObject:colorChange2,startFromTop:e,slowness:400,referenceObject:filmsSection})},fadeInFilms=function(){let e=.8*window.innerHeight;for(let r=0;r<films.length;r++){let o=$(films[r]);addClassOnScroll("show",{targetObject:o,startFromTop:e})}},moveTo=function({targetObject:e,offset:r}){let o=r||0,t=e[0].offsetTop;window.scroll({top:t-o,left:0,behavior:"smooth"})},scrollArrow=function(){moveTo({targetObject:firstIntroParagraph,offset:-500}),downArrow.addClass("hide")},mobileMenu=function(){sidebar[0].className.includes("expanded")?sidebar.removeClass("expanded"):sidebar.addClass("expanded")},updateTheater=function(e,r){let o,t=$("#"+e).children(".theater")[0];r?$(t).hasClass("show")||$(t).addClass("show"):($(t).hasClass("show")&&$(t).removeClass("show"),(o=$(t).children("iframe")[0]).src=o.src)},videoLoaded=function(e){$("#"+e).addClass("loaded")};setInterval(()=>{didScroll&&(didScroll=!1)},100),$(window).scroll(()=>{didScroll||(didScroll=!0),addClassOnScroll("hide",{targetObject:backgroundVideo,startFromTop:0,config:{reference:filmsSection,removeOnReverse:!0}}),fadeInOverlay1(),fadeInParagraphs(),window.scrollY>1e3&&(fadeInOverlay2(),fadeInFilms())}),$(document).ready(()=>{backgroundVideo=$("#backgroundVideo"),colorChange1=$("#colorChange1"),colorChange2=$("#colorChange2"),introParagraphs=$(".pGroup"),firstIntroParagraph=$(introParagraphs[0]),sidebar=$("#sidebar"),downArrow=$("#downArrow"),text=$("#text"),filmsSection=$("#films"),films=$(".film"),filmPreview=$(".filmHeader").hover(playPreview,pausePreview),window.scroll(0,0),"?films"==window.location.search&&moveTo({targetObject:filmsSection,offset:40})});