let questionsLength,page,logoImgDataURL;$(document).ready(()=>{(page=$(".questionsPage")).addClass("intro"),$("#sidebar").addClass("shrink"),initiateQuestions(),questionsLength=$(".question").length;let e=$("#finishReview");prepareFinishReviewButton(e);let t=$("#download");prepareDownloadButton(t)}),window.onbeforeunload=function(){return"Are you sure? The information you've entered won't be saved."};let startQuestions=function(){page.removeClass("intro")},prepareDownloadButton=function(e){e[0].addEventListener("click",function(){createPDF()},!1)},prepareFinishReviewButton=function(e){e[0].addEventListener("click",function(){finishReview()},!1)};function toDataURL(e){var t=new Image;t.crossOrigin="Anonymous",t.onload=function(){var e,t=document.createElement("CANVAS"),i=t.getContext("2d");t.height=this.naturalHeight,t.width=this.naturalWidth,i.drawImage(this,0,0),e=t.toDataURL(),logoImgDataURL=e},t.src=e}let thisQ,initiateQuestions=function(){$("#step1").addClass("show")},qid="1",updateQuestionView=function(e){if((thisQ=$("#step"+qid)).removeClass("show"),"next"==e){if(qid==questionsLength)return void prepareReview();qid<questionsLength&&qid++}else"prev"==e&&qid>1&&qid--;let t=$("#nextButton")[0];t.innerHTML=qid==questionsLength?"Review":"Next";let i=$("#prevButton");1==qid?i.addClass("hide"):i.hasClass("hide")&&i.removeClass("hide"),setTimeout(()=>{$("#step"+qid).addClass("show")},600)},updateAskFirst=function(e){thisQ=$("#step"+qid),"yes"==e&&thisQ.removeClass("showAskFirst"),"no"==e&&(thisQ.addClass("noClicked"),setTimeout(()=>{thisQ.removeClass("noClicked"),updateQuestionView("next")},3e3))},prepareReview=function(){page.addClass("finalReview");let e=$(".answer"),t=$(".reviewA"),i=$(".reviewQ"),n=$(".reviewStep");for(let s=0;s<t.length;s++)e[s].value&&e[s].value.length?t[s].prepend(e[s].value):(i[s].innerHTML="Skipped",$(n[s]).addClass("skipped"));toDataURL("assets/logo1_dark_print.png")},returnToAnswer=function(e){page.removeClass("finalReview"),qid=e,updateQuestionView()},finishReview=function(){page.removeClass("finalReview"),page.addClass("healthcareAgentReview")},videoCanPlay=function(e){$("#"+e).addClass("loaded")};